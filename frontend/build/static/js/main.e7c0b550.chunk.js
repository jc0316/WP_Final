(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),i=(a(73),a(8)),o=(a(74),a(130)),l=a(129),d=a(123),u=a(127),j=a(120),b=a(124),m=a(128),p=a(122),h=a(41),g=a.n(h),O=a(91),f=a(121),x=a(2);function v(){return Object(x.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(j.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var y=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://store-images.s-microsoft.com/image/apps.30803.14155008925335999.d73a1ee6-ad88-44f4-b581-0e61288e7b12.77931aae-3a5d-4ae6-bb98-2689673718b8?mode=scale&q=90&h=1080&w=1920)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function w(e){var t=y(),a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],s=r[1],h=Object(n.useState)(""),f=Object(i.a)(h,2),w=f[0],N=f[1];return Object(x.jsxs)(p.a,{container:!0,component:"main",className:t.root,children:[Object(x.jsx)(d.a,{}),Object(x.jsx)(p.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(x.jsx)(p.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0,style:{backgroundColor:"#37bcff4d"},children:Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(o.a,{className:t.avatar,children:Object(x.jsx)(g.a,{})}),Object(x.jsx)(O.a,{component:"h1",variant:"h5",children:"Placeholder for title (needs to look better)"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(x.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return N(e.target.value)}}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressSignIn({password:w,email:c})},children:"Sign In"}),Object(x.jsxs)(p.a,{container:!0,children:[Object(x.jsx)(p.a,{item:!0,xs:!0,children:Object(x.jsx)(j.a,{href:"#",variant:"body2"})}),Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(j.a,{href:"#",variant:"body2",onClick:e.pressSignUp,children:"Don't have an account? Sign Up"})})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(v,{})})]})]})})]})}var N=a(125);function S(){return Object(x.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(j.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var k=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function P(e){var t=k(),a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],s=r[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),f=h[0],v=h[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),P=w[0],T=w[1],C=Object(n.useState)(""),E=Object(i.a)(C,2),I=E[0],W=E[1];return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(d.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(o.a,{className:t.avatar,children:Object(x.jsx)(g.a,{})}),Object(x.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsxs)(p.a,{container:!0,spacing:2,children:[Object(x.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(u.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return s(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return v(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return T(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return W(e.target.value)}})})]}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressRegister({firstName:c,lastName:f,email:P,password:I})},children:"Register"}),Object(x.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(j.a,{href:"#",variant:"body2",onClick:e.pressBackToSignIn,children:"Already have an account? Sign in"})})})]})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(S,{})})]})}a(85);var T=function(e){return Object(x.jsxs)("div",{className:"matching-body",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h2",{"data-text":"Matchmaking...",children:"Matchmaking..."})}),Object(x.jsx)(l.a,{variant:"contained",color:"primary",onClick:e.pressCancel,children:"Cancel"})]})};a(34);var C=function(e){var t=e.player,a=e.gameResult,n=e.pressLogout,r=e.pressrestart;return Object(x.jsxs)("div",{className:"endgame-layout",children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"heading heading--stroke-shadow",children:"tie"===a[0]?"DRAW":a[0]===t[1]?"VICTORY":"DEFEAT"})}),Object(x.jsxs)("div",{className:"endgame-buttons",children:[Object(x.jsx)("button",{className:"endgame-newgame","data-text":"NEW GAME",onClick:function(){r({player:t[0]})},children:"New game"}),Object(x.jsx)("button",{className:"endgame-logout","data-text":"VERSUS",onClick:function(){n({player:t[0]})},children:"Logout"})]})]})},E=(a.p,a.p,a.p+"static/media/can2.7663d8cd.svg"),I=a.p+"static/media/frame.84c34445.png",W=a.p+"static/media/red.60926260.jpg",_=a.p+"static/media/yellow.92708a58.jpg";a.p;var R=function(e){return Object(x.jsx)("div",{className:"Grid1x1",id:"".concat(e.row_index,"_").concat(e.col_index),onClick:e.handle_1x1_click.bind(this,e.row_index,e.col_index,e.username),children:function(e){switch(console.log(e),e){case"w":return Object(x.jsx)("img",{className:"piece",src:W});case"b":return Object(x.jsx)("img",{className:"piece",src:_});case"c":return Object(x.jsx)("img",{className:"hint piece",src:E});case"e":return Object(x.jsx)("img",{className:"piece",src:I});default:return Object(x.jsx)("img",{})}}(e.value)})};var A=function(e){var t=new Array(7);console.log(e.board);for(var a=0;a<7;a++){t[a]=[];for(var n=0;n<6;n++)t[a].push(Object(x.jsx)(R,{row_index:n,col_index:a,username:e.username,handle_1x1_click:e.handle_1x1_click,value:e.board[a][n]}))}return Object(x.jsx)("div",{className:"board",children:t.map((function(e){return Object(x.jsx)("div",{className:"row",children:e})}))})},D=a.p+"static/media/face.953d01d4.svg",F=a.p+"static/media/yellow-piece.85d952a6.png",G=a.p+"static/media/red-piece.910d2d13.png";var L=function(e){var t={color:e.color===e.turn?"white":"#C8C8C8"},a=(e.connected,{fontSize:"30px",color:e.connected?"white":"red"});console.log(e.history);var n=e.history,r=n[0]+n[1]+n[2]!==0?n[0]/(n[0]+n[1]+n[2])*100:0;return Object(x.jsxs)("div",{className:"User",children:[Object(x.jsxs)("div",{className:"card-left",children:[Object(x.jsx)("div",{className:"card-avatar",children:Object(x.jsx)("img",{className:"face",src:D})}),Object(x.jsxs)("div",{className:"card-stats",children:["W: ",n[0],"/ L: ",n[1],"/ T: ",n[2]]}),Object(x.jsxs)("div",{className:"card-stats",children:["WIN RATE : ",Math.floor(r),"%"]})]}),Object(x.jsxs)("div",{className:"card-right",children:[Object(x.jsxs)("div",{className:"turn",style:t,children:[" It's ",e.color===e.turn?"your":"opponent's"," turn!"]}),Object(x.jsx)("div",{className:"card-name",style:a,children:e.player}),Object(x.jsxs)("div",{className:"card-details",children:[Object(x.jsx)("div",{className:"card-details piece",children:"b"===e.color?Object(x.jsx)("img",{className:"card-details piece",src:F}):Object(x.jsx)("img",{className:"card-details piece",src:G})}),Object(x.jsx)("div",{className:"card-details data",children:Object(x.jsx)("div",{className:"item",children:Object(x.jsx)("span",{className:"value",children:function(){if(e.timeleft<0)return" 0:00";var t=Math.floor(e.timeleft/6e4),a=Math.floor(e.timeleft/1e3%60),n=Math.floor(e.timeleft/10%100);return t<1?a.toString().padStart(2,"0")+"."+n.toString().padStart(2,"0"):t.toString().padStart(2," ")+":"+a.toString().padStart(2,"0")}()})})})]})]})]})},M=a(126),q=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=e.player,o=e.pressResign;return r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){c(!1)},children:"Cancel"}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",onClick:function(){c(!1),o(s)},children:"Confirm"})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",endIcon:Object(x.jsx)(M.a,{children:"send"}),onClick:function(){console.log("Pressed quit"),c(!0)},children:"Quit"})})};a(86);var U=function(e){var t=Object(i.a)(e.gameHooks,8),a=t[0],r=t[1],c=t[2],s=t[3],o=t[4],l=t[5],d=t[6],u=t[7],j=Object(i.a)(e.gameButtons,3),b=j[0],m=j[1],p=j[2],h=Object(n.useState)(!1),g=Object(i.a)(h,2),O=(g[0],g[1],Object(n.useState)([2,2])),f=Object(i.a)(O,2),v=f[0];return f[1],console.log(a,s,c),Object(x.jsxs)("div",{className:"game",children:[Object(x.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(x.jsxs)("div",{className:"left",children:[Object(x.jsx)("div",{className:"quit",children:"playing"===d?Object(x.jsx)(q,{pressResign:b,player:a}):Object(x.jsx)("p",{})}),Object(x.jsx)(L,{color:a[1],player:a[0],pieces:"b"===a[1]?v[0]:v[1],timeleft:a[1]===c?r:"xx",connected:a[2],turn:c,history:a[3]}),Object(x.jsx)("div",{className:"vs",children:Object(x.jsx)("div",{className:"vs-text","data-text":"VERSUS",children:"VERSUS"})}),Object(x.jsx)(L,{color:s[1],player:s[0],pieces:"b"===s[1]?v[0]:v[1],connected:s[2],timeleft:s[1]===c?r:"xx",turn:c,history:s[3]})]}),Object(x.jsx)("div",{className:"right",children:"playing"===d?Object(x.jsx)(A,{handle_1x1_click:u,board:o,username:a[0]}):Object(x.jsx)(C,{player:a,gameResult:l,pressLogout:m,pressrestart:p})})]})},B=a(13),V=a.n(B),z=a(19),J=[["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"]],Y=new WebSocket(window.location.origin.replace(/^http/,"ws")),H=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(12e4),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(J),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)("e"),p=Object(i.a)(m,2),h=p[0],g=p[1],O=Object(n.useState)(["null","e",!0,[0,0,0]]),f=Object(i.a)(O,2),x=f[0],v=f[1],y=Object(n.useState)(["null","e",!0,[0,0,0]]),w=Object(i.a)(y,2),N=w[0],S=w[1],k=Object(n.useState)("signin"),P=Object(i.a)(k,2),T=P[0],C=P[1],E=Object(n.useState)(["",""]),I=Object(i.a)(E,2),W=I[0],_=I[1],R=Object(n.useState)({content:""}),A=Object(i.a)(R,2),D=(A[0],A[1],Object(n.useState)("playing")),F=Object(i.a)(D,2),G=F[0],L=F[1],M=function(e,t){if(x[1]!==h)return null;if("e"!==j[e][0])return null;for(var a=0;"e"===j[e][a]&&a<=6;)a+=1;j[e][a-1]=h,console.log("setting board"),b(j)};Object(n.useEffect)((function(){Y.onmessage=function(e){console.log(Y),e=e.data,H(JSON.parse(e))},Y.onopen=function(){return console.log("Server connected2.")},Y.sendEvent=function(e){Y.send(JSON.stringify(e))}})),Object(n.useEffect)((function(){console.log(o),console.log(a,Date.now())}),[a]);var q=function(){var e=Object(z.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=4,Y.sendEvent(["SIGN_IN",{email:a,password:n}]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(z.a)(V.a.mark((function e(t){var a,n,r,c,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.firstName,n=t.lastName,r=t.email,c=t.password,s="".concat(a," ").concat(n),e.next=7,Y.sendEvent(["SIGN_UP",{fullName:s,email:r,password:c}]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(z.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Y),e.next=3,Y.sendEvent(["CANCEL",Y.username]);case 3:C("signin");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(z.a)(V.a.mark((function e(t){var a,n,c,s,o,d,u,j,m,p,h,O,f,x,y,w,N,k;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(i.a)(t,2),n=a[0],c=a[1],console.log(n,c),e.t0=n,e.next="ERROR"===e.t0?5:"SIGN_UP"===e.t0?7:"SIGN_IN"===e.t0?9:"WAITING"===e.t0?14:"START"===e.t0?18:"PLACE"===e.t0?25:"END"===e.t0?32:"NEWGAME"===e.t0?38:51;break;case 5:return alert(c),e.abrupt("break",51);case 7:return C("signin"),e.abrupt("break",51);case 9:s=Object(i.a)(c,3),o=s[0],d=s[1],u=s[2],Y.username=o,Y.email=d,Y.history=u,C("matching");case 14:return j=c.client,m=c.clients,console.log(j),console.log(m),e.abrupt("break",51);case 18:return C("ingame"),p=Object(i.a)(c,2),h=p[0],"first"===p[1]?(v([h.players.white.name,"w",!0,[h.players.white.history.win,h.players.white.history.lost,h.players.white.history.tie]]),S([h.players.black.name,"b",!0,[h.players.black.history.win,h.players.black.history.lost,h.players.black.history.tie]])):(v([h.players.black.name,"b",!0,[h.players.black.history.win,h.players.black.history.lost,h.players.black.history.tie]]),S([h.players.white.name,"w",!0,[h.players.white.history.win,h.players.white.history.lost,h.players.white.history.tie]])),r(Date.now),g("w"),b(h.board),e.abrupt("break",51);case 25:return O=c,console.log(O),g(O.turn),b(O.board),r(Date.now()),l(12e4),e.abrupt("break",51);case 32:return f=Object(i.a)(c,2),x=f[0],y=f[1],console.log(x),b(x.board),L("end"),_([y,""]),e.abrupt("break",51);case 38:return C("matching"),L("playing"),console.log("server back newgame"),N=(w=c).email,k=w.password,console.log(N),console.log("TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT"),console.log(T),C("matching"),e.next=50,Y.sendEvent(["SIGN_IN",{email:N,password:k}]);case 50:console.log("send sign in ");case 51:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(z.a)(V.a.mark((function e(t,a,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),M(a),e.next=4,Y.sendEvent(["PLACE",{col:a,row:t,username:n}]);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(z.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("signin"),console.log(t),console.log("PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP"),e.next=5,Y.sendEvent(["RESIGN",t]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(z.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.player,e.next=3,Y.sendEvent(["LOGOUT",a]);case 3:C("signin"),L("playing");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(z.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.player,console.log("send event newgame"),e.next=4,Y.sendEvent(["NEWGAME",a]);case 4:console.log("finish send event newgame"),C("matching");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[T,q,function(){C("signup")},function(){C("signin")},U,B,[x,o,h,N,j,W,G,function(e,t,a){Q(e,t,a)}],[K,X,Z]]},Q=(a(88),function(){var e=H(),t=Object(i.a)(e,8),a=t[0],n=t[1],r=t[2],c=t[3],s=t[4],o=t[5],l=t[6],d=t[7];return Object(x.jsx)("div",{className:"Othello",children:function(e){switch(console.log("Status :",e),e){case"signin":return Object(x.jsx)(w,{pressSignIn:n,pressSignUp:r});case"signup":return Object(x.jsx)(P,{pressRegister:s,pressBackToSignIn:c});case"matching":return Object(x.jsx)(T,{pressCancel:o,status:e});case"ingame":return Object(x.jsx)(U,{gameHooks:l,gameButtons:d});default:return Object(x.jsx)("div",{children:"case not handled by switch"})}}(a)})}),K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,133)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Q,{})}),document.getElementById("root")),K()}},[[89,1,2]]]);
//# sourceMappingURL=main.e7c0b550.chunk.js.map