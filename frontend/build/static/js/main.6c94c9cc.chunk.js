(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),s=a.n(r),i=(a(73),a(8)),o=(a(74),a(129)),l=a(123),d=a(127),u=a(120),j=a(124),m=a(128),b=a(122),p=a(91),h=a(121),g=a.p+"static/media/yellow-piece.85d952a6.png",O=a.p+"static/media/red-piece.910d2d13.png",x=(a(33),a(2));function f(){return Object(x.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var v=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://i.imgur.com/PlzSr1p.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function y(e){var t=v(),a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],s=c[1],p=Object(n.useState)(""),h=Object(i.a)(p,2),y=h[0],N=h[1];return Object(x.jsxs)(b.a,{container:!0,component:"main",className:t.root,children:[Object(x.jsx)(l.a,{}),Object(x.jsx)(b.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(x.jsx)(b.a,{item:!0,xs:12,sm:8,md:5,component:j.a,elevation:6,square:!0,style:{backgroundColor:"#37bcff4d"},children:Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsxs)("div",{className:"signin-title-top",children:[Object(x.jsx)("h2",{className:"signin-text-top",children:"C"}),Object(x.jsx)("img",{className:"signin-title-image",src:O}),Object(x.jsx)("h2",{className:"signin-text-top",children:"nnect"})]}),Object(x.jsxs)("div",{className:"signin-title-middle",children:[Object(x.jsx)("h2",{className:"signin-text-middle",children:"F"}),Object(x.jsx)("img",{className:"signin-title-image",src:g}),Object(x.jsx)("h2",{className:"signin-text-middle","data-text":"UR",style:{color:"white"},children:"ur"})]}),Object(x.jsxs)("div",{className:"signin-title-bottom",children:[Object(x.jsx)("img",{className:"signin-title-image",src:O}),Object(x.jsx)("h2",{className:"signin-text-bottom",children:"nline"})]}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(x.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return N(e.target.value)}}),Object(x.jsx)(o.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressSignIn({password:y,email:r})},children:"Sign In"}),Object(x.jsxs)(b.a,{container:!0,children:[Object(x.jsx)(b.a,{item:!0,xs:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2"})}),Object(x.jsx)(b.a,{item:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2",onClick:e.pressSignUp,children:"Don't have an account? Sign Up"})})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(f,{})})]})]})})]})}var N=a(130),w=a(47),S=a.n(w),k=a(125);function P(){return Object(x.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var T=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function C(e){var t=T(),a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],s=c[1],j=Object(n.useState)(""),h=Object(i.a)(j,2),g=h[0],O=h[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),y=v[0],w=v[1],C=Object(n.useState)(""),E=Object(i.a)(C,2),I=E[0],W=E[1];return Object(x.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(l.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(N.a,{className:t.avatar,children:Object(x.jsx)(S.a,{})}),Object(x.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsxs)(b.a,{container:!0,spacing:2,children:[Object(x.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(d.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return s(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return O(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return w(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return W(e.target.value)}})})]}),Object(x.jsx)(o.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressRegister({firstName:r,lastName:g,email:y,password:I})},children:"Register"}),Object(x.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(x.jsx)(b.a,{item:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2",onClick:e.pressBackToSignIn,children:"Already have an account? Sign in"})})})]})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(P,{})})]})}a(85);var E=function(e){return Object(x.jsxs)("div",{className:"matching-body",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h2",{className:"matching-h2","data-text":"Matchmaking...",children:"Matchmaking..."})}),Object(x.jsx)(o.a,{variant:"contained",color:"primary",onClick:e.pressCancel,children:"Cancel"})]})};var I=function(e){var t=e.player,a=e.gameResult,n=e.pressLogout,c=e.pressrestart;return Object(x.jsxs)("div",{className:"endgame-layout",children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"heading heading--stroke-shadow",children:"tie"===a[0]?"DRAW":a[0]===t[1]?"VICTORY":"DEFEAT"})}),Object(x.jsxs)("div",{className:"endgame-buttons",children:[Object(x.jsx)("button",{className:"endgame-newgame","data-text":"NEW GAME",onClick:function(){c({player:t[0]})},children:"New game"}),Object(x.jsx)("button",{className:"endgame-logout","data-text":"VERSUS",onClick:function(){n({player:t[0]})},children:"Logout"})]})]})},W=(a.p,a.p,a.p+"static/media/can2.7663d8cd.svg"),R=a.p+"static/media/frame.84c34445.png",_=a.p+"static/media/red.60926260.jpg",A=a.p+"static/media/yellow.92708a58.jpg";a.p;var F=function(e){return Object(x.jsx)("div",{className:"Grid1x1",id:"".concat(e.row_index,"_").concat(e.col_index),onClick:e.handle_1x1_click.bind(this,e.row_index,e.col_index,e.username),children:function(e){switch(console.log(e),e){case"w":return Object(x.jsx)("img",{className:"piece",src:_});case"b":return Object(x.jsx)("img",{className:"piece",src:A});case"c":return Object(x.jsx)("img",{className:"hint piece",src:W});case"e":return Object(x.jsx)("img",{className:"piece",src:R});default:return Object(x.jsx)("img",{})}}(e.value)})};var D=function(e){var t=new Array(7);console.log(e.board);for(var a=0;a<7;a++){t[a]=[];for(var n=0;n<6;n++)t[a].push(Object(x.jsx)(F,{row_index:n,col_index:a,username:e.username,handle_1x1_click:e.handle_1x1_click,value:e.board[a][n]}))}return Object(x.jsx)("div",{className:"board",children:t.map((function(e){return Object(x.jsx)("div",{className:"row",children:e})}))})},G=a.p+"static/media/face.953d01d4.svg";var L=function(e){var t={color:e.color===e.turn?"white":"#C8C8C8"},a=(e.connected,{fontSize:"30px",color:e.connected?"white":"red"});console.log(e.history);var n=e.history,c=n[0]+n[1]+n[2]!==0?n[0]/(n[0]+n[1]+n[2])*100:0;return Object(x.jsxs)("div",{className:"User",children:[Object(x.jsxs)("div",{className:"card-left",children:[Object(x.jsx)("div",{className:"card-avatar",children:Object(x.jsx)("img",{className:"face",src:G})}),Object(x.jsxs)("div",{className:"card-stats",children:["W: ",n[0],"/ L: ",n[1],"/ T: ",n[2]]}),Object(x.jsxs)("div",{className:"card-stats",children:["WIN RATE : ",Math.floor(c),"%"]})]}),Object(x.jsxs)("div",{className:"card-right",children:[Object(x.jsxs)("div",{className:"turn",style:t,children:[" It's ",e.color===e.turn?"your":"opponent's"," turn!"]}),Object(x.jsx)("div",{className:"card-name",style:a,children:e.player}),Object(x.jsxs)("div",{className:"card-details",children:[Object(x.jsx)("div",{className:"card-details piece",children:"b"===e.color?Object(x.jsx)("img",{className:"card-details piece",src:g}):Object(x.jsx)("img",{className:"card-details piece",src:O})}),Object(x.jsx)("div",{className:"card-details data",children:Object(x.jsx)("div",{className:"item",children:Object(x.jsx)("span",{className:"value",children:function(){if(e.timeleft<0)return" 0:00";var t=Math.floor(e.timeleft/6e4),a=Math.floor(e.timeleft/1e3%60),n=Math.floor(e.timeleft/10%100);return t<1?a.toString().padStart(2,"0")+"."+n.toString().padStart(2,"0"):t.toString().padStart(2," ")+":"+a.toString().padStart(2,"0")}()})})})]})]})]})},M=a(126),U=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],s=e.player,l=e.pressResign;return c?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){r(!1)},children:"Cancel"}),Object(x.jsx)(o.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",onClick:function(){r(!1),l(s)},children:"Confirm"})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(o.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",endIcon:Object(x.jsx)(M.a,{children:"send"}),onClick:function(){console.log("Pressed quit"),r(!0)},children:"Quit"})})};a(86);var q=function(e){var t=Object(i.a)(e.gameHooks,8),a=t[0],c=t[1],r=t[2],s=t[3],o=t[4],l=t[5],d=t[6],u=t[7],j=Object(i.a)(e.gameButtons,3),m=j[0],b=j[1],p=j[2],h=Object(n.useState)(!1),g=Object(i.a)(h,2),O=(g[0],g[1],Object(n.useState)([2,2])),f=Object(i.a)(O,2),v=f[0];return f[1],console.log(a,s,r),Object(x.jsxs)("div",{className:"game",children:[Object(x.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(x.jsxs)("div",{className:"left",children:[Object(x.jsx)("div",{className:"quit",children:"playing"===d?Object(x.jsx)(U,{pressResign:m,player:a}):Object(x.jsx)("p",{})}),Object(x.jsx)(L,{color:a[1],player:a[0],pieces:"b"===a[1]?v[0]:v[1],timeleft:a[1]===r?c:"xx",connected:a[2],turn:r,history:a[3]}),Object(x.jsx)("div",{className:"vs",children:Object(x.jsx)("div",{className:"vs-text","data-text":"VERSUS",children:"VERSUS"})}),Object(x.jsx)(L,{color:s[1],player:s[0],pieces:"b"===s[1]?v[0]:v[1],connected:s[2],timeleft:s[1]===r?c:"xx",turn:r,history:s[3]})]}),Object(x.jsx)("div",{className:"right",children:"playing"===d?Object(x.jsx)(D,{handle_1x1_click:u,board:o,username:a[0]}):Object(x.jsx)(I,{player:a,gameResult:l,pressLogout:b,pressrestart:p})})]})},z=a(13),B=a.n(z),V=a(19),J=[["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"]],Y=new WebSocket(window.location.origin.replace(/^http/,"ws")),H=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(12e4),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(n.useState)(J),u=Object(i.a)(d,2),j=u[0],m=u[1],b=Object(n.useState)("e"),p=Object(i.a)(b,2),h=p[0],g=p[1],O=Object(n.useState)(["null","e",!0,[0,0,0]]),x=Object(i.a)(O,2),f=x[0],v=x[1],y=Object(n.useState)(["null","e",!0,[0,0,0]]),N=Object(i.a)(y,2),w=N[0],S=N[1],k=Object(n.useState)("signin"),P=Object(i.a)(k,2),T=P[0],C=P[1],E=Object(n.useState)(["",""]),I=Object(i.a)(E,2),W=I[0],R=I[1],_=Object(n.useState)({content:""}),A=Object(i.a)(_,2),F=(A[0],A[1],Object(n.useState)("playing")),D=Object(i.a)(F,2),G=D[0],L=D[1],M=function(e,t){if(f[1]!==h)return null;if("e"!==j[e][0])return null;for(var a=0;"e"===j[e][a]&&a<=6;)a+=1;j[e][a-1]=h,console.log("setting board"),m(j)};Object(n.useEffect)((function(){Y.onmessage=function(e){console.log(Y),e=e.data,H(JSON.parse(e))},Y.onopen=function(){return console.log("Server connected2.")},Y.sendEvent=function(e){Y.send(JSON.stringify(e))}})),Object(n.useEffect)((function(){console.log(o),console.log(a,Date.now())}),[a]);var U=function(){var e=Object(V.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=4,Y.sendEvent(["SIGN_IN",{email:a,password:n}]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(V.a)(B.a.mark((function e(t){var a,n,c,r,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.firstName,n=t.lastName,c=t.email,r=t.password,s="".concat(a," ").concat(n),e.next=7,Y.sendEvent(["SIGN_UP",{fullName:s,email:c,password:r}]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(V.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Y),e.next=3,Y.sendEvent(["CANCEL",Y.username]);case 3:C("signin");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(V.a)(B.a.mark((function e(t){var a,n,r,s,o,d,u,j,b,p,h,O,x,f,y,N,w,k;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(i.a)(t,2),n=a[0],r=a[1],console.log(n,r),e.t0=n,e.next="ERROR"===e.t0?5:"SIGN_UP"===e.t0?7:"SIGN_IN"===e.t0?9:"WAITING"===e.t0?14:"START"===e.t0?18:"PLACE"===e.t0?25:"END"===e.t0?32:"NEWGAME"===e.t0?38:51;break;case 5:return alert(r),e.abrupt("break",51);case 7:return C("signin"),e.abrupt("break",51);case 9:s=Object(i.a)(r,3),o=s[0],d=s[1],u=s[2],Y.username=o,Y.email=d,Y.history=u,C("matching");case 14:return j=r.client,b=r.clients,console.log(j),console.log(b),e.abrupt("break",51);case 18:return C("ingame"),p=Object(i.a)(r,2),h=p[0],"first"===p[1]?(v([h.players.white.name,"w",!0,[h.players.white.history.win,h.players.white.history.lost,h.players.white.history.tie]]),S([h.players.black.name,"b",!0,[h.players.black.history.win,h.players.black.history.lost,h.players.black.history.tie]])):(v([h.players.black.name,"b",!0,[h.players.black.history.win,h.players.black.history.lost,h.players.black.history.tie]]),S([h.players.white.name,"w",!0,[h.players.white.history.win,h.players.white.history.lost,h.players.white.history.tie]])),c(Date.now),g("w"),m(h.board),e.abrupt("break",51);case 25:return O=r,console.log(O),g(O.turn),m(O.board),c(Date.now()),l(12e4),e.abrupt("break",51);case 32:return x=Object(i.a)(r,2),f=x[0],y=x[1],console.log(f),m(f.board),L("end"),R([y,""]),e.abrupt("break",51);case 38:return C("matching"),L("playing"),console.log("server back newgame"),w=(N=r).email,k=N.password,console.log(w),console.log("TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT"),console.log(T),C("matching"),e.next=50,Y.sendEvent(["SIGN_IN",{email:w,password:k}]);case 50:console.log("send sign in ");case 51:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(V.a)(B.a.mark((function e(t,a,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),M(a),e.next=4,Y.sendEvent(["PLACE",{col:a,row:t,username:n}]);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(V.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("signin"),console.log(t),console.log("PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP"),e.next=5,Y.sendEvent(["RESIGN",t]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(V.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.player,e.next=3,Y.sendEvent(["LOGOUT",a]);case 3:C("signin"),L("playing");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(V.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.player,console.log("send event newgame"),e.next=4,Y.sendEvent(["NEWGAME",a]);case 4:console.log("finish send event newgame"),C("matching");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[T,U,function(){C("signup")},function(){C("signin")},q,z,[f,o,h,w,j,W,G,function(e,t,a){Q(e,t,a)}],[K,X,Z]]},Q=(a(88),function(){var e=H(),t=Object(i.a)(e,8),a=t[0],n=t[1],c=t[2],r=t[3],s=t[4],o=t[5],l=t[6],d=t[7];return Object(x.jsx)("div",{className:"Othello",children:function(e){switch(console.log("Status :",e),e){case"signin":return Object(x.jsx)(y,{pressSignIn:n,pressSignUp:c});case"signup":return Object(x.jsx)(C,{pressRegister:s,pressBackToSignIn:r});case"matching":return Object(x.jsx)(E,{pressCancel:o,status:e});case"ingame":return Object(x.jsx)(q,{gameHooks:l,gameButtons:d});default:return Object(x.jsx)("div",{children:"case not handled by switch"})}}(a)})}),K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,133)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Q,{})}),document.getElementById("root")),K()}},[[89,1,2]]]);
//# sourceMappingURL=main.6c94c9cc.chunk.js.map