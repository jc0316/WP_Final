(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(11),r=a.n(c),i=(a(74),a(8)),l=(a(75),a(130)),o=a(124),d=a(128),u=a(121),j=a(125),m=a(129),b=a(123),p=a(92),h=a(122),g=a.p+"static/media/yellow-piece.85d952a6.png",O=a.p+"static/media/red-piece.910d2d13.png",x=(a(33),a(2));function f(){return Object(x.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var v=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://i.imgur.com/PlzSr1p.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function y(e){var t=v(),a=Object(n.useState)(""),s=Object(i.a)(a,2),c=s[0],r=s[1],p=Object(n.useState)(""),h=Object(i.a)(p,2),y=h[0],N=h[1];return Object(x.jsxs)(b.a,{container:!0,component:"main",className:t.root,children:[Object(x.jsx)(o.a,{}),Object(x.jsx)(b.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(x.jsx)(b.a,{item:!0,xs:12,sm:8,md:5,component:j.a,elevation:6,square:!0,style:{backgroundColor:"#37bcff4d"},children:Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsxs)("div",{className:"signin-title-top",children:[Object(x.jsx)("h2",{className:"signin-text-top",children:"C"}),Object(x.jsx)("img",{className:"signin-title-image",src:O}),Object(x.jsx)("h2",{className:"signin-text-top",children:"nnect"})]}),Object(x.jsxs)("div",{className:"signin-title-middle",children:[Object(x.jsx)("h2",{className:"signin-text-middle",children:"F"}),Object(x.jsx)("img",{className:"signin-title-image",src:g}),Object(x.jsx)("h2",{className:"signin-text-middle","data-text":"UR",style:{color:"white"},children:"ur"})]}),Object(x.jsxs)("div",{className:"signin-title-bottom",children:[Object(x.jsx)("img",{className:"signin-title-image",src:O}),Object(x.jsx)("h2",{className:"signin-text-bottom",children:"nline"})]}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return r(e.target.value)}}),Object(x.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return N(e.target.value)}}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressSignIn({password:y,email:c})},children:"Sign In"}),Object(x.jsxs)(b.a,{container:!0,children:[Object(x.jsx)(b.a,{item:!0,xs:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2"})}),Object(x.jsx)(b.a,{item:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2",onClick:e.pressSignUp,children:"Don't have an account? Sign Up"})})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(f,{})})]})]})})]})}var N=a(131),w=a(47),k=a.n(w),S=a(126);function P(){return Object(x.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"WP1092"})," ",(new Date).getFullYear(),"."]})}var T=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function I(e){var t=T(),a=Object(n.useState)(""),s=Object(i.a)(a,2),c=s[0],r=s[1],j=Object(n.useState)(""),h=Object(i.a)(j,2),g=h[0],O=h[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),y=v[0],w=v[1],I=Object(n.useState)(""),C=Object(i.a)(I,2),E=C[0],W=C[1];return Object(x.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(o.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(N.a,{className:t.avatar,children:Object(x.jsx)(k.a,{})}),Object(x.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(x.jsxs)(b.a,{container:!0,spacing:2,children:[Object(x.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(d.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return r(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return O(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return w(e.target.value)}})}),Object(x.jsx)(b.a,{item:!0,xs:12,children:Object(x.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return W(e.target.value)}})})]}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){e.pressRegister({firstName:c,lastName:g,email:y,password:E})},children:"Register"}),Object(x.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(x.jsx)(b.a,{item:!0,children:Object(x.jsx)(u.a,{href:"#",variant:"body2",onClick:e.pressBackToSignIn,children:"Already have an account? Sign in"})})})]})]}),Object(x.jsx)(m.a,{mt:5,children:Object(x.jsx)(P,{})})]})}a(86);var C=function(e){return Object(x.jsxs)("div",{className:"matching-body",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h2",{className:"matching-h2","data-text":"Matchmaking...",children:"Matchmaking..."})}),Object(x.jsx)(l.a,{variant:"contained",color:"primary",onClick:e.pressCancel,children:"Cancel"})]})};var E=function(e){var t=e.player,a=e.gameResult,n=e.pressLogout,s=e.pressrestart;return Object(x.jsxs)("div",{className:"endgame-layout",children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"heading heading--stroke-shadow",children:"tie"===a[0]?"DRAW":a[0]===t[1]?"VICTORY":"DEFEAT"})}),Object(x.jsxs)("div",{className:"endgame-buttons",children:[Object(x.jsx)("button",{className:"endgame-newgame","data-text":"NEW GAME",onClick:function(){s({player:t[0]})},children:"New game"}),Object(x.jsx)("button",{className:"endgame-logout","data-text":"VERSUS",onClick:function(){n({player:t[0]})},children:"Logout"})]})]})},W=(a.p,a.p,a.p+"static/media/can2.a9056786.svg"),R=a.p+"static/media/frame.84c34445.png",_=a.p+"static/media/red.60926260.jpg",A=a.p+"static/media/yellow.92708a58.jpg";a.p;var F=function(e){return Object(x.jsx)("div",{className:"Grid1x1",id:"".concat(e.row_index,"_").concat(e.col_index),onClick:e.handle_1x1_click.bind(this,e.row_index,e.col_index,e.username),children:function(e){switch(e){case"w":return Object(x.jsx)("img",{className:"piece",src:_});case"b":return Object(x.jsx)("img",{className:"piece",src:A});case"c":return Object(x.jsx)("img",{className:"hint piece",src:W});case"e":return Object(x.jsx)("img",{className:"piece",src:R});default:return Object(x.jsx)("img",{})}}(e.value)})};var G=function(e){for(var t=new Array(7),a=0;a<7;a++){t[a]=[];for(var n=0;n<6;n++)t[a].push(Object(x.jsx)(F,{row_index:n,col_index:a,username:e.username,handle_1x1_click:e.handle_1x1_click,value:e.board[a][n]}))}return Object(x.jsx)("div",{className:"board",children:t.map((function(e){return Object(x.jsx)("div",{className:"row",children:e})}))})},M=a.p+"static/media/face.7e8e935f.svg";var U=function(e){var t={color:e.color===e.turn?"white":"#C8C8C8"},a=(e.connected,{fontSize:"30px",color:e.connected?"white":"red"}),n=e.history,s=n[0]+n[1]+n[2]!==0?n[0]/(n[0]+n[1]+n[2])*100:0;return Object(x.jsxs)("div",{className:"User",children:[Object(x.jsxs)("div",{className:"card-left",children:[Object(x.jsx)("div",{className:"card-avatar",children:Object(x.jsx)("img",{className:"face",src:M})}),Object(x.jsxs)("div",{className:"card-stats",children:["W: ",n[0],"/ L: ",n[1],"/ Tie: ",n[2]]}),Object(x.jsxs)("div",{className:"card-stats",children:["WIN RATE : ",Math.floor(s),"%"]})]}),Object(x.jsxs)("div",{className:"card-right",children:[Object(x.jsxs)("div",{className:"turn",style:t,children:[" It's ",e.color===e.turn?"your":"opponent's"," turn!"]}),Object(x.jsx)("div",{className:"card-name",style:a,children:e.player}),Object(x.jsxs)("div",{className:"card-details",children:[Object(x.jsx)("div",{className:"card-details piece",children:"b"===e.color?Object(x.jsx)("img",{className:"card-details piece",src:g}):Object(x.jsx)("img",{className:"card-details piece",src:O})}),Object(x.jsx)("div",{className:"card-details data",children:Object(x.jsx)("div",{className:"item",children:Object(x.jsx)("span",{className:"value",children:function(){if("xx"===e.timeleft)return"";if(e.timeleft<0)return" 0:00";var t=Math.floor(e.timeleft/6e4),a=Math.floor(e.timeleft/1e3%60),n=Math.floor(e.timeleft/10%100);return t<1?a.toString().padStart(2,"0")+"."+n.toString().padStart(2,"0"):t.toString().padStart(2," ")+":"+a.toString().padStart(2,"0")}()})})})]})]})]})},L=a(127),q=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=e.player,o=e.pressResign;return s?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){c(!1)},children:"Cancel"}),Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",onClick:function(){c(!1),o(r)},children:"Confirm"})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",size:"large",endIcon:Object(x.jsx)(L.a,{children:"send"}),onClick:function(){console.log("Pressed quit"),c(!0)},children:"Quit"})})};a(87);var D=function(e){var t=Object(i.a)(e.gameHooks,9),a=t[0],n=t[1],s=t[2],c=t[3],r=t[4],l=t[5],o=t[6],d=t[7],u=t[8],j=Object(i.a)(e.gameButtons,3),m=j[0],b=j[1],p=j[2];return Object(x.jsxs)("div",{className:"game",children:[Object(x.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(x.jsxs)("div",{className:"left",children:[Object(x.jsx)("div",{className:"quit",children:"playing"===d?Object(x.jsx)(q,{pressResign:m,player:a}):Object(x.jsx)("p",{})}),Object(x.jsx)(U,{color:a[1],player:a[0],timeleft:n,connected:a[2],turn:c,history:a[3]}),Object(x.jsx)("div",{className:"vs",children:Object(x.jsx)("div",{className:"vs-text","data-text":"VERSUS",children:"VERSUS"})}),Object(x.jsx)(U,{color:r[1],player:r[0],connected:r[2],timeleft:s,turn:c,history:r[3]})]}),Object(x.jsx)("div",{className:"right",children:"playing"===d?Object(x.jsx)(G,{handle_1x1_click:u,board:l,username:a[0]}):Object(x.jsx)(E,{player:a,gameResult:o,pressLogout:b,pressrestart:p})})]})},z=a(13),B=a.n(z),V=a(19),J=a(48),Y=new WebSocket("ws://localhost:4000");Y.onopen=function(){return console.log("Server connected2.")},Y.sendEvent=function(e){Y.send(JSON.stringify(e))};var H=1e4,Q=[["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"],["e","e","e","e","e","e"]],K=function(){var e=Object(J.a)(H,1e3),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(J.a)(H,1e3),r=Object(i.a)(c,2),l=r[0],o=r[1],d=Object(n.useState)(Q),u=Object(i.a)(d,2),j=u[0],m=u[1],b=Object(n.useState)("e"),p=Object(i.a)(b,2),h=p[0],g=p[1],O=Object(n.useState)(["null","e",!0,[0,0,0]]),x=Object(i.a)(O,2),f=x[0],v=x[1],y=Object(n.useState)(["null","e",!0,[0,0,0]]),N=Object(i.a)(y,2),w=N[0],k=N[1],S=Object(n.useState)("signin"),P=Object(i.a)(S,2),T=P[0],I=P[1],C=Object(n.useState)(["",""]),E=Object(i.a)(C,2),W=E[0],R=E[1],_=Object(n.useState)({content:""}),A=Object(i.a)(_,2),F=(A[0],A[1],Object(n.useState)("playing")),G=Object(i.a)(F,2),M=G[0],U=G[1],L=function(e,t){if(f[1]!==h)return null;if("e"!==j[e][0])return null;for(var a=0;"e"===j[e][a]&&a<=6;)a+=1;j[e][a-1]=h,console.log("setting board"),m(j)};Y.onmessage=function(e){console.log(Y),e=e.data,X(JSON.parse(e))};var q=function(){var e=Object(V.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.sendEvent(["TIMEOUT",t]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log(a),console.log("IIIIIIIIIIIIIIIIIIIIIII"),console.log(l),0===a&&"ingame"===T?(s.start(H),s.pause(),console.log("player1 lose"),q(f)):0===l&&"ingame"===T&&(o.start(H),o.pause(),console.log("player2 lose"),q(w))}));var D=function(){var e=Object(V.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.email,n=t.password,Y.sendEvent(["SIGN_IN",{email:a,password:n}]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(V.a)(B.a.mark((function e(t){var a,n,s,c,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.firstName,n=t.lastName,s=t.email,c=t.password,r="".concat(a," ").concat(n),Y.sendEvent(["SIGN_UP",{fullName:r,email:s,password:c}]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(V.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Y),Y.sendEvent(["CANCEL",Y.username]),I("signin");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];switch(console.log(a,n),a){case"ERROR":alert(n);break;case"SIGN_UP":I("signin");break;case"SIGN_IN":var c=Object(i.a)(n,3),r=c[0],l=c[1],d=c[2];Y.username=r,Y.email=l,Y.history=d,I("matching");case"WAITING":var u=n.client,j=n.clients;console.log(u),console.log(j),o.start(),o.pause(),s.start(),s.pause();break;case"START":I("ingame");var b=Object(i.a)(n,2),p=b[0];"first"===b[1]?(v([p.players.white.name,"w",!0,[p.players.white.history.win,p.players.white.history.lost,p.players.white.history.tie]]),k([p.players.black.name,"b",!0,[p.players.black.history.win,p.players.black.history.lost,p.players.black.history.tie]]),o.start(),o.pause(),s.start()):(v([p.players.black.name,"b",!0,[p.players.black.history.win,p.players.black.history.lost,p.players.black.history.tie]]),k([p.players.white.name,"w",!0,[p.players.white.history.win,p.players.white.history.lost,p.players.white.history.tie]]),s.start(),s.pause(),o.start()),g("w"),m(p.board);break;case"PLACE":var h=n;console.log(h),g(h.turn),m(h.board),Y.username!==h.players.black.name&&"b"===h.turn||Y.username!==h.players.white.name&&"w"===h.turn?(s.start(H),s.pause(),o.start(H)):(o.start(H),o.pause(),s.start(H));break;case"END":var O=Object(i.a)(n,2),x=O[0],f=O[1];console.log(x),m(x.board),U("end"),R([f,""]),s.start(H),s.pause(),o.start(H),o.pause();break;case"NEWGAME":I("matching"),U("playing"),console.log("server back newgame");var y=n,N=y.email,w=y.password;console.log(N),console.log("TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT"),console.log(T),I("matching"),Y.sendEvent(["SIGN_IN",{email:N,password:w}]),console.log("send sign in ")}},Z=function(){var e=Object(V.a)(B.a.mark((function e(t,a,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,a),L(a),Y.sendEvent(["PLACE",{col:a,row:t,username:n}]);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(V.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I("signin"),console.log(t),console.log("PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP"),Y.sendEvent(["RESIGN",t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(V.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.player,Y.sendEvent(["LOGOUT",a]),I("signin"),U("playing");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(V.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.player,console.log("send event newgame"),Y.sendEvent(["NEWGAME",a]),console.log("finish send event newgame"),I("matching");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[T,D,function(){I("signup")},function(){I("signin")},z,K,[f,a,l,h,w,j,W,M,function(e,t,a){Z(e,t,a)}],[$,ee,te]]},X=(a(89),function(){var e=K(),t=Object(i.a)(e,8),a=t[0],n=t[1],s=t[2],c=t[3],r=t[4],l=t[5],o=t[6],d=t[7];return Object(x.jsx)("div",{className:"Othello",children:function(e){switch(e){case"signin":return Object(x.jsx)(y,{pressSignIn:n,pressSignUp:s});case"signup":return Object(x.jsx)(I,{pressRegister:r,pressBackToSignIn:c});case"matching":return Object(x.jsx)(C,{pressCancel:l,status:e});case"ingame":return Object(x.jsx)(D,{gameHooks:o,gameButtons:d});default:return Object(x.jsx)("div",{children:"case not handled by switch"})}}(a)})}),Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(X,{})}),document.getElementById("root")),Z()}},[[90,1,2]]]);
//# sourceMappingURL=main.d2975aac.chunk.js.map